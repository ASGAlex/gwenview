#MIN_CONFIG(3.1)
#
# _hack suffix
#
AC_MSG_CHECKING(if we should add the "_hack" suffix to Gwenview)

AC_ARG_ENABLE(gwenview-hack,
[  --enable-gwenview-hack  Add the "_hack" suffix to Gwenview files],
[if test "$enableval" = yes; then
  AC_MSG_RESULT(yes)
  AC_DEFINE(GV_HACK_SUFFIX,1,[Define if you want to add the "_hack" suffix to Gwenview])
else
  AC_MSG_RESULT(no)
fi], [AC_MSG_RESULT(no)])

AM_CONDITIONAL(GV_HACK_SUFFIX, test "$enable_gwenview_hack" = yes)


#
# KIPI
#
AC_MSG_CHECKING(if Gwenview should be compiled with KIPI support)
AC_ARG_ENABLE(kipi,
[  --enable-kipi           Use KIPI, 'KDE Image Plugin Interface'],
[if test "$enableval" = yes; then
  AC_MSG_RESULT(yes)
  want_kipi="yes"
else
  AC_MSG_RESULT(no)
fi], [AC_MSG_RESULT(no); want_kipi="no"])

if test "$want_kipi" = "yes"; then
  KDE_CHECK_HEADER(libkipi/interface.h,
    have_kipi=yes,
    have_kipi=no)

  if test "$have_kipi" = "yes"; then
	AC_DEFINE(HAVE_KIPI, 1, [If we have libkipi installed])
	LIB_KIPI="-lkipi"
	AC_SUBST(LIB_KIPI)
  else
    AC_WARN([Can't find KIPI headers, Gwenview won't be compiled with KIPI support])
  fi
fi
